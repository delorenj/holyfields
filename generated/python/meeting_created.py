# generated by datamodel-codegen:
#   filename:  meeting_created.json
#   timestamp: 2026-01-25T15:24:35+00:00

from __future__ import annotations

from enum import StrEnum
from typing import Literal
from uuid import UUID

from pydantic import AwareDatetime, ConfigDict, Field

from base_event import BaseEvent


class Strategy(StrEnum):
    """
    Meeting execution strategy
    """

    simple = "simple"
    multi_agent = "multi_agent"


class MeetingCreatedEvent(BaseEvent):
    """
    Emitted when a new meeting is created. Payload contains initial meeting configuration.
    """

    model_config = ConfigDict(
        extra="forbid",
    )
    event_type: Literal["meeting.created"]
    """
    Event type discriminator
    """
    topic: str = Field(..., max_length=1000, min_length=1)
    """
    Meeting topic or question to discuss
    """
    strategy: Strategy
    """
    Meeting execution strategy
    """
    max_rounds: int = Field(..., ge=1, le=100)
    """
    Maximum number of discussion rounds before stopping
    """
    agent_count: int | None = Field(None, ge=1)
    """
    Number of agents participating (null if not yet selected)
    """
    timestamp: AwareDatetime
    """
    ISO 8601 UTC timestamp when event was emitted
    """
    meeting_id: UUID = Field(
        ..., pattern="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
    )
    """
    UUID of the meeting this event relates to. Used for event correlation and tracing.
    """
