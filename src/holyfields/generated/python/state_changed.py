# generated by datamodel-codegen:
#   filename:  state_changed.json
#   timestamp: 2026-02-01T18:07:03+00:00

from __future__ import annotations

from enum import StrEnum
from typing import Literal
from uuid import UUID

from pydantic import AwareDatetime, BaseModel, Field, RootModel


class Uuid(RootModel[UUID]):
    root: UUID = Field(..., examples=["550e8400-e29b-41d4-a716-446655440000"])
    """
    RFC 4122 UUID
    """


class SemanticVersion(RootModel[str]):
    root: str = Field(
        ..., examples=["1.0.0", "2.1.3", "0.1.0"], pattern="^\\d+\\.\\d+\\.\\d+$"
    )
    """
    Semantic version (major.minor.patch)
    """


class MeetingStatus(StrEnum):
    """
    Meeting lifecycle status
    """

    created = "created"
    running = "running"
    paused = "paused"
    converged = "converged"
    completed = "completed"
    failed = "failed"


class AgentName(RootModel[str]):
    root: str = Field(..., max_length=100, min_length=1)
    """
    AI agent name (e.g., 'Alice', 'Bob', 'DomainExpert')
    """


class RoundNumber(RootModel[int]):
    root: int = Field(..., ge=1)
    """
    Meeting round number (1-indexed)
    """


class NoveltyScore(RootModel[float]):
    root: float = Field(..., ge=0.0, le=1.0)
    """
    Novelty score between 0.0 (repetitive) and 1.0 (novel)
    """


class AgentStateChangedEvent(BaseModel):
    """
    Emitted when an agent changes its internal state or thinking process
    """

    event_type: Literal["agent.state.changed"]
    timestamp: AwareDatetime = Field(
        ..., examples=["2024-01-15T10:30:00Z", "2024-12-31T23:59:59.999Z"]
    )
    """
    ISO 8601 timestamp in UTC (e.g., '2024-01-15T10:30:00Z')
    """
    agent_id: str
    state: str
    """
    Current state (e.g. 'thinking', 'idle', 'working')
    """
    thought_process: str | None = None
    """
    Internal monologue or reasoning
    """
